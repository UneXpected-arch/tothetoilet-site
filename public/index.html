<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üöΩ To The Toilet ‚Äî WIPE Game</title>
  <link rel="icon" type="image/png" href="/game/assets/favicon.png" />

  <!-- Strict CSP (no inline/eval) -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; media-src 'self'; font-src 'self'; connect-src 'self'; frame-src 'none'; base-uri 'self'; form-action 'self';">

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="üöΩ To The Toilet ‚Äî WIPE Game" />
  <meta property="og:description" content="üí¶ Flush your debt, catch the gains! Can YOU scoop the profits before they get flushed forever?" />
  <meta property="og:image" content="https://www.tothetoilet.xyz/assets/social-card.png" />
  <meta property="og:url" content="https://www.tothetoilet.xyz" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@WIPE_it_UP" />
  <meta name="twitter:title" content="üöΩ To The Toilet ‚Äî WIPE Game" />
  <meta name="twitter:description" content="üí¶ Flush your debt, catch the gains! Can YOU scoop the profits before they get flushed forever?" />
  <meta name="twitter:image" content="https://www.tothetoilet.xyz/assets/social-card.png" />

  <style>
    :root{ --navy:#0E2341; --gold:#F6C445; --blue:#1E4E89; --text:#F7F7F7; }
    *{ box-sizing:border-box; margin:0; padding:0; }
    html,body{ height:100%; overflow-x:hidden; }

    /* Background video */
    .video-bg{
      position:fixed; top:50%; left:50%;
      min-width:100%; min-height:100%;
      transform:translate(-50%,-50%) scale(1.05);
      object-fit:cover; z-index:-3; will-change:transform;
    }
    /* Readability overlay + image fallback */
    .overlay{ position:fixed; inset:0; background:rgba(14,35,65,.65); z-index:-2; pointer-events:none; }
    .no-video .overlay{
      background:
        linear-gradient(rgba(14,35,65,.65), rgba(14,35,65,.65)),
        url("/assets/social-card.png") center/cover no-repeat;
    }

    /* Floating layer */
    #float-layer{ position:fixed; inset:0; pointer-events:none; z-index:-1; overflow:hidden; }
    .float-item{
      position:absolute; width:80px; height:auto;
      filter: drop-shadow(0 0 14px rgba(255,255,200,.9));
      will-change: transform, opacity;
    }
    .sparkle{
      position:absolute; width:6px; height:6px; border-radius:50%;
      background:radial-gradient(circle,#fff 0%, #ffe07a 40%, transparent 70%);
      pointer-events:none; opacity:.85; filter:blur(.2px);
      animation: sparkleFade .8s linear forwards;
    }
    @keyframes sparkleFade{ 0%{transform:scale(1) translateY(0);opacity:1} 100%{transform:scale(.5) translateY(-8px);opacity:0} }

    body{
      color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
      display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
      padding:40px 0 60px;
    }
    .wrap{
      width:min(960px,92%); text-align:center;
      background:rgba(14,35,65,.78); border:1px solid rgba(255,255,255,.12);
      border-radius:18px; padding:32px 22px; backdrop-filter:blur(2px);
      box-shadow:0 10px 40px rgba(0,0,0,.35); margin-bottom:40px;
    }
    h1{ margin:0 0 8px; font-size:clamp(28px,6vw,56px); color:var(--gold); text-shadow:0 0 14px rgba(246,196,69,.9); }
    p{ margin:8px auto 18px; max-width:720px; font-size:clamp(16px,2.8vw,20px) }
    .emoji{ display:inline-block; animation:pulse 1.4s infinite ease-in-out }
    @keyframes pulse{ 0%,100%{ transform:scale(1) } 50%{ transform:scale(1.2) } }

    .cta{
      display:inline-block; padding:14px 24px; border-radius:12px;
      background:var(--gold); color:#06233f; font-weight:900; text-decoration:none;
      font-size:clamp(18px,3.5vw,22px);
      box-shadow:0 6px 0 #caa02b, 0 0 20px rgba(246,196,69,.85);
      transition:transform .15s ease, box-shadow .15s ease;
    }
    .cta:hover{ box-shadow:0 8px 24px rgba(246,196,69,1), 0 6px 0 #caa02b }
    .cta:active{ transform:translateY(2px); box-shadow:0 4px 0 #caa02b }
    .sub{ opacity:.85; font-size:14px; margin-top:10px }
    .twitter-btn{ display:inline-block; margin-top:8px; background:var(--blue); color:var(--text); padding:8px 14px; border-radius:8px; font-weight:600; text-decoration:none; }

    /* Tweets container */
    .tweets-wrap {
      max-width: 600px;
      width: min(600px, 92%);
      margin: 16px auto 0;
      background: rgba(14, 35, 65, 0.78);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 18px;
      padding: 20px;
      backdrop-filter: blur(2px);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.35);
    }
    .tweets-title {
      font-size: 20px;
      font-weight: bold;
      text-align: center;
      color: var(--gold);
      margin-bottom: 16px;
      text-shadow: 0 0 8px rgba(246,196,69,.7);
    }
    .tweets { display:flex; flex-direction:column; gap:12px; }

    /* Tweet card */
    .tweet {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 12px;
      padding: 14px;
      color: var(--text);
      font-size: 15px;
      line-height: 1.45;
      white-space: pre-wrap;
      box-shadow: 0 4px 12px rgba(0,0,0,.2);
    }
    .tweet-head { display:flex; align-items:center; gap:10px; margin-bottom:6px; }
    .tweet-avatar { width:28px; height:28px; border-radius:50%; object-fit:cover; }
    .tweet-identity { line-height:1.05; }
    .tweet-name { font-weight:700; }
    .tweet-handle { opacity:.8; font-size:12px; }
    .tweet-text a { color:#F6C445; text-decoration:underline; }
    .tweet-media { display:block; width:100%; border-radius:10px; margin-top:8px; }
    .tweet-meta { display:flex; gap:14px; align-items:center; opacity:.85; margin-top:8px; font-size:12px; }
    .tweet-link { margin-left:auto; color:#F6C445; }

    /* Skeletons */
    .skeleton { background: linear-gradient(90deg, rgba(255,255,255,.08), rgba(255,255,255,.16), rgba(255,255,255,.08)); background-size:200% 100%; animation:sheen 1.4s infinite linear; border-radius:8px; height:14px; }
    .skeleton-line { height:14px; margin:6px 0; }
    .skeleton-line.short { width:40%; }
    @keyframes sheen { 0%{background-position:200% 0} 100%{background-position:-200% 0} }

    @media (max-width:768px){
      .float-item{ width:40px; }
      .wrap{ padding:26px 18px; }
      body{ padding:28px 0 42px; }
    }
    @media (prefers-reduced-motion:reduce){
      .emoji{ animation:none !important }
    }
  </style>

  <!-- External JS (CSP-safe) -->
  <script src="/assets/app.js" defer></script>
  <script src="/assets/twitter-feed.js" defer></script>
</head>
<body>
  <!-- Background video -->
  <video id="bg-video" class="video-bg" autoplay muted loop playsinline poster="/assets/social-card.png">
    <source src="/assets/bg.webm" type="video/webm">
    <source src="/assets/bg.mp4" type="video/mp4">
  </video>
  <div class="overlay"></div>

  <!-- Floating decorative items -->
  <div id="float-layer"></div>

  <main class="wrap">
    <h1>üöΩ TO THE TOILET</h1>
    <p>
      <span class="emoji">üí¶</span> <span style="color:var(--gold);font-weight:700;">Flush your debt</span>, catch the gains!<br/>
      <span class="emoji">üßª</span> The only game where <span style="color:var(--gold);font-weight:700;">degeneracy meets destiny</span>.<br/>
      <span class="emoji">üí∞</span> Can YOU scoop the <span style="color:var(--gold);font-weight:700;">profits</span> before they get flushed forever?
    </p>
    <a class="cta" href="/game">‚ñ∂ Play Now</a>
    <div class="sub">
      Powered by the WIPE community ‚Ä¢ #WIPEcoin
      <br/>
      <a class="twitter-btn" href="https://twitter.com/WIPE_it_UP" target="_blank" rel="noopener">üê¶ Follow us on Twitter</a>
    </div>
  </main>

  <!-- Tweet Feed Section (CSP-safe, uses /api/twitter-media) -->
  <section class="tweets-wrap" id="tweets">
    <div class="tweets-title">üê¶ Latest from @WIPE_it_UP</div>
    <div id="tweet-list" class="tweets">
      <!-- Filled by /assets/twitter-feed.js -->
    </div>
  </section>
</body>
</html>
